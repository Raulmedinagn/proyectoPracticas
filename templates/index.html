{% extends "base.html" %}
{% block title %}Inicio{% endblock %}

{% block content %}

<form method="post" class="form-inline m-3 centrar">
    <input name="fr" class="form-control mr-sm-2" style="width: 50%" placeholder="Buscar"/>
    <button type="submit" class="btn btn-outline-info my-2 my-sm-0">
        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-search" fill="currentColor"
             xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd"
                  d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"/>
            <path fill-rule="evenodd"
                  d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>
        </svg>
    </button>
</form>
{% with messages = get_flashed_messages() %}
    {% if messages %}
        {%for message in messages %}
        <div aria-live="polite" aria-atomic="true" style="position: relative; min-height: 200px;">
  <div class="toast"data-autohide="false" style="position: absolute; top: 270%; right: 1%;">
    <div class="toast-header">
      <strong class="mr-auto text-danger">Error</strong>
      <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="toast-body text-dark">
      {{message}}
    </div>
  </div>
</div>

<script>
$(document).ready(function(){
  $('.toast').toast('show');
});
</script>
        {% endfor %}
    {% endif %}
{% endwith %}
<br>
</div>
<div class="container d-flex justify-content-center">
<table class="table table-dark" style="display: {{ variable }}">
    <thead>
    <tr>
        <th>Tipo</th>
        <th>Titulo</th>
        <th>Ubicaci√≥n</th>
        <th></th>


    </tr>
    <br>
    </thead>

    <tbody>


       



    <!-- imprimo todos los datos pasados del back-->
    {% set cnt = [0] %}
    {% for row in data %}
    {% if cnt.append(cnt.pop() + 1) %}{% endif %}
    <tr>
        <td class="w-50">{{ row.1 }}</td>
        <td class="w-50">{{ row.2 }}</td>
        <td class="w-50">{{ row.4 }}</td>
        <td>
            <a href="{{ url_for('info', id = row.0) }}">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-info-square" fill="currentColor"
                     xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                          d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                    <path fill-rule="evenodd"
                          d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                    <path d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z"/>
                    <circle cx="8" cy="4.5" r="1"/>
                </svg>
            </a>
        </td>

    </tr>

    {% endfor %}
    </tbody>

</table>
</div>
<div class="d-flex p-2 justify-content-center">
    <p class="text-right"style="display: {{ variable }}">Resultados encontrados: {{ cnt[0] }}</p>
</div>


{% endblock %}
